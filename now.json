{
  "version": 2,
  "public": true,
  "name": "downwrite",
  "env": {
    "PUPPETEER_SKIP_CHROMIUM_DOWNLOAD": "true",
    "NODE_ENV": "production",
    "PORT": "4411",
    "SECRET_KEY": "@dw-key",
    "DB_USER": "@dw-db-user",
    "DB_PASSWORD": "@dw-db-password",
    "DB_ADDRESS": "@dw-db-address"
  },
  "builds": [
    { "src": "client/next.config.js", "use": "@now/next" },
    { "src": "api/src/server.ts", "use": "@now/node@canary" }
  ],
  "routes": [
    { "src": "/api/(.*)", "dest": "/api/src/$1" },
    { "src": "/(.*)", "dest": "/client/$1" },
    {
      "src": "^/service-worker.js$",
      "dest": "/_next/static/service-worker.js",
      "headers": {
        "cache-control": "public, max-age=43200, immutable",
        "Service-Worker-Allowed": "/"
      }
    }
  ]
}
